<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ngữ pháp bài 1 trang 7 tiếng Anh lớp 6</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: #333;
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            padding: 20px;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            background-color: #ffffff;
            padding: 25px 35px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #005a9c;
            border-bottom: 2px solid #eef2f5;
            padding-bottom: 10px;
        }
        h1 { text-align: center; }
        .grammar-explanation {
            text-align: center; font-size: 1.1em; color: #555; margin-top: -10px; margin-bottom: 30px; font-style: italic;
        }

        .lesson-header {
            display: flex; gap: 30px; flex-wrap: wrap; margin-bottom: 30px;
        }
        .left-column, .right-column {
            flex: 1; min-width: 320px;
        }
        .lesson-image {
            width: 100%; height: auto; border-radius: 10px; margin-bottom: 20px; border: 1px solid #e0e0e0;
        }

        .tapescript-container {
            padding: 10px 20px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; height: 100%; max-height: 500px; overflow-y: auto;
        }
        .tapescript-container p { margin: 10px 0; font-size: 1.1em; }
        .tapescript-container strong { color: #007bff; }
        .clickable-word {
            cursor: pointer; transition: background-color 0.2s, color 0.2s; padding: 1px 2px; border-radius: 3px;
        }
        .clickable-word:hover { background-color: #ffc107; color: #000; }
        
        .quiz-container {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            align-items: center;
            margin-top: 40px;
            padding: 25px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
        }
        .exercise-column {
            /* THAY ĐỔI 1: Cho cột bài tập chiếm ít không gian hơn */
            flex: 1; 
            min-width: 350px;
        }
        .image-column {
            /* THAY ĐỔI 1: Cho cột ảnh chiếm nhiều không gian hơn */
            flex: 1.5;
            min-width: 400px;
            text-align: center;
        }
        .exercise-image {
            max-width: 100%;
            border-radius: 8px;
            border: 1px solid #ddd;
            /* THAY ĐỔI 2: Đảm bảo tỉ lệ gốc */
            height: auto; 
        }

        .quiz-item { margin-bottom: 15px; font-size: 1.05em; }
        .quiz-item input {
            padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 1em; margin: 0 5px; width: 130px;
        }
        .quiz-item input::placeholder { color: #28a745; font-style: italic; }
        .quiz-item input.correct { border-color: #28a745; background-color: #e9f7ef; }
        .quiz-item input.incorrect { border-color: #dc3545; background-color: #fce8e6; }
        
        .button-group { margin-top: 20px; display: flex; gap: 15px; }
        .check-button, .reset-button {
            padding: 10px 20px; font-size: 1.1em; color: #fff; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s;
        }
        .check-button { background-color: #007bff; }
        .check-button:hover { background-color: #0056b3; }
        
        .reset-button { background-color: #6c757d; }
        .reset-button:hover { background-color: #5a6268; }

        #feedback { margin-top: 15px; font-size: 1.2em; font-weight: bold; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Ngữ pháp bài 1 trang 7 tiếng Anh lớp 6</h1>
        <p class="grammar-explanation">
            Dùng thì hiện tại đơn để nói về những điều là sự thật hoặc đúng trong thời gian dài.
        </p>

        <div class="lesson-header">
            <div class="left-column">
                <h2>Minh họa & Luyện nghe</h2>
                <img src="https://i.postimg.cc/RCwHjqb7/Screenshot-2025-08-01-at-13-41-30.png" alt="Lesson Illustration" class="lesson-image">
                <div>
                    <iframe width="100%" height="60" src="https://vocaroo.com/embed/18uUmSl0Gaf3?autoplay=0" frameborder="0" allow="autoplay"></iframe>
                </div>
            </div>
            <div class="right-column">
                <div class="tapescript-container" id="story-container">
                    <h2>Hội thoại mẫu (Tapescript)</h2>
                    <p style="font-style: italic; color: #0d6efd; font-size: 0.9em;">
                        <strong>Mẹo:</strong> Nhấp vào một từ tiếng Anh bất kỳ để nghe phát âm!
                    </p>
                    <p><strong>Jenny:</strong> Excuse me. Could I ask you some questions?</p>
                    <p><strong>Alex:</strong> Oh, you're in class 6A, aren't you?</p>
                    <p><strong>Jenny:</strong> Yes, that's right. My name's Jenny. I'm doing a survey for my geography class.</p>
                    <p><strong>Alex:</strong> My name's Alex. What do you want to know?</p>
                    <p><strong>Jenny:</strong> Thank you, Alex. Do you live in a house?</p>
                    <p><strong>Alex:</strong> No, I don't. I live in an apartment.</p>
                    <p><strong>Jenny:</strong> How many bedrooms does it have?</p>
                    <p><strong>Alex:</strong> Two.</p>
                    <p><strong>Jenny:</strong> Does it have a pool?</p>
                    <p><strong>Alex:</strong> Yes, a small one.</p>
                    <p><strong>Jenny:</strong> Does it have a garage?</p>
                    <p><strong>Alex:</strong> No, it doesn't.</p>
                    <p><strong>Jenny:</strong> Does it have a gym?</p>
                    <p><strong>Alex:</strong> Yes, it does. There's a gym in the basement.</p>
                    <p><strong>Jenny:</strong> Does it have a balcony?</p>
                    <p><strong>Alex:</strong> Yes, it does. I can see the city from it.</p>
                    <p><strong>Jenny:</strong> Great! Thank you for your help.</p>
                    <p><strong>Alex:</strong> You're welcome.</p>
                    <p><strong>Jenny:</strong> Goodbye.</p>
                </div>
            </div>
        </div>
       
        <div class="quiz-container">
            <div class="exercise-column">
                <h2>Bài tập: Hoàn thành câu theo hội thoại</h2>
                <p>Điền dạng đúng của động từ vào chỗ trống.</p>
                <div id="quiz-form">
                    <div class="quiz-item">1. Alex (live) <input type="text" id="answer1"> in an apartment.</div>
                    <div class="quiz-item">2. The apartment (have) <input type="text" id="answer2"> two bedrooms.</div>
                    <div class="quiz-item">3. It (have) <input type="text" id="answer3"> a small pool.</div>
                    <div class="quiz-item">4. It (not have) <input type="text" id="answer4"> a garage.</div>
                    <div class="quiz-item">5. There (be) <input type="text" id="answer5"> a gym in the basement.</div>
                </div>
                <div class="button-group">
                    <button class="check-button" onclick="checkAnswers()">Kiểm tra</button>
                    <button class="reset-button" onclick="resetQuiz()">Làm lại</button>
                </div>
                <div id="feedback"></div>
            </div>
            <div class="image-column">
                <img src="https://i.postimg.cc/bwdmbKC3/Screenshot-2025-08-01-at-14-22-31.png" alt="Exercise example" class="exercise-image">
            </div>
        </div>
    </div>

    <script>
        function speak(text) {
            const cleanedText = text.replace(/[.,!?:]/g, '');
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(cleanedText);
                utterance.lang = 'en-US';
                utterance.rate = 0.9;
                utterance.pitch = 1;
                window.speechSynthesis.speak(utterance);
            } else {
                alert("Xin lỗi, trình duyệt của bạn không hỗ trợ tính năng phát âm.");
            }
        }

        function prepareClickableText() {
            const container = document.getElementById('story-container');
            const paragraphs = container.querySelectorAll('p');
            paragraphs.forEach(p => {
                if(p.style.fontStyle === 'italic') return;

                const speakerHtml = p.querySelector('strong') ? `<strong>${p.querySelector('strong').innerText}</strong>` : '';
                const textContent = p.innerText.replace(p.querySelector('strong') ? p.querySelector('strong').innerText : '', '').trim();
                const words = textContent.split(/\s+/);
                p.innerHTML = speakerHtml + ' ';

                words.forEach(word => {
                    if (word.length > 0) {
                        const span = document.createElement('span');
                        span.textContent = word;
                        span.className = 'clickable-word';
                        span.onclick = () => speak(word);
                        p.appendChild(span);
                        p.appendChild(document.createTextNode(' '));
                    }
                });
            });
        }

        function checkAnswers() {
            const answers = {
                answer1: "lives",
                answer2: "has",
                answer3: "has",
                answer4: "doesn't have",
                answer5: "is"
            };
            const totalQuestions = Object.keys(answers).length;
            const feedbackElement = document.getElementById('feedback');
            let score = 0;

            for (const id in answers) {
                const inputElement = document.getElementById(id);
                const userAnswer = inputElement.value.trim().toLowerCase();
                const correctAnswer = answers[id];
                inputElement.classList.remove('correct', 'incorrect');
                
                if (userAnswer === correctAnswer) {
                    inputElement.classList.add('correct');
                    score++;
                } else {
                    inputElement.classList.add('incorrect');
                    inputElement.value = '';
                    inputElement.placeholder = correctAnswer;
                }
            }
            
            if (score === totalQuestions) {
                feedbackElement.textContent = `Xuất sắc! Bạn đã trả lời đúng tất cả ${totalQuestions} câu!`;
                feedbackElement.style.color = '#28a745';
            } else {
                feedbackElement.textContent = `Bạn đúng ${score}/${totalQuestions} câu. Hãy xem gợi ý ở các ô màu đỏ và thử lại nhé!`;
                feedbackElement.style.color = '#dc3545';
            }
        }
        
        function resetQuiz() {
            const quizInputs = document.querySelectorAll('#quiz-form input');
            const feedbackElement = document.getElementById('feedback');
            quizInputs.forEach(input => {
                input.value = '';
                input.placeholder = '';
                input.classList.remove('correct', 'incorrect');
            });
            feedbackElement.textContent = '';
        }

        document.addEventListener('DOMContentLoaded', prepareClickableText);
    </script>

</body>
</html>